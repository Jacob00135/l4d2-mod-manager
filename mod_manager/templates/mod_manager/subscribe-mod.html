{% extends "mod_manager/base.html" %}
{% load static %}

{% block title %}订阅MOD{% endblock title %}

{% block style %}
<link rel="stylesheet" href="{% static 'mod_manager/css/subscribe-mod.css' %}">
{% endblock style %}

{% block content %}
<h1>订阅MOD</h1>
<p class="hint-info">订阅后请不要刷新页面，防止订阅进度丢失</p>

<form id="subscribe_form" action="{% url 'mod_manager:subscribe_mod' %}" method="post"
      data-log-url="{% url 'mod_manager:get_subscribe_progress' %}">
    {% csrf_token %}
    <input type="text" id="subscribe_url" name="subscribe_url" placeholder="MOD的Steam创意工坊页面链接" autocomplete="off" required />
    <input type="submit" class="submit-button" value="添加订阅" />
</form>

<!--
<div id="subscribe_live">
    <h2 class="live-title">订阅日志</h2>

    <div class="progress-box">
        <div class="progress-bar">
            <div class="progress"></div>
            <div class="text">0%</div>
        </div>
    </div>

    <div class="log-panel-box">
        <div class="log-panel"></div>
    </div>
</div>
-->

<ul id="subscribe_list">
    <li class="item">
        <div class="id" data-index="0">1234</div>
        <div class="content hidden">
            <div class="link">
                <label>订阅链接：</label>
                <input type="text" value="https://www.youtube.com/watch?v=Mx3Aq3veb1A" disabled />
            </div>
            <div class="title">
                <label>MOD名称：</label>
                <input type="text" value="half-life" disabled />
            </div>
            <div class="progress">
                <label>下载进度：</label>
                <div class="progress-bar">
                    <div class="color"></div>
                    <div class="text">0%</div>
                </div>
            </div>
            <div class="log">
                <h5>订阅日志</h5>
                <div class="text"></div>
            </div>
        </div>
    </li>
    <li class="item">
        <div class="id" data-index="1">5678</div>
        <div class="content hidden">
            <div class="link">
                <label>订阅链接：</label>
                <input type="text" value="https://www.youtube.com/watch?v=Mx3Aq3veb1A" disabled />
            </div>
            <div class="title">
                <label>MOD名称：</label>
                <input type="text" value="half-life" disabled />
            </div>
            <div class="progress">
                <label>下载进度：</label>
                <div class="progress-bar">
                    <div class="color"></div>
                    <div class="text">0%</div>
                </div>
            </div>
            <div class="log">
                <h5>订阅日志</h5>
                <div class="text"></div>
            </div>
        </div>
    </li>
    <li class="item">
        <div class="id" data-index="2">9012</div>
        <div class="content hidden">
            <div class="link">
                <label>订阅链接：</label>
                <input type="text" value="https://www.youtube.com/watch?v=Mx3Aq3veb1A" disabled />
            </div>
            <div class="title">
                <label>MOD名称：</label>
                <input type="text" value="half-life" disabled />
            </div>
            <div class="progress">
                <label>下载进度：</label>
                <div class="progress-bar">
                    <div class="color"></div>
                    <div class="text">0%</div>
                </div>
            </div>
            <div class="log">
                <h5>订阅日志</h5>
                <div class="text"></div>
            </div>
        </div>
    </li>
</ul>
{% endblock content %}

{% block javascript %}
<script type="text/javascript" src="{% static 'mod_manager/js/subscribe-mod.js' %}"></script>
{% endblock javascript %}
